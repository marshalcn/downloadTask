# 多线程下载工具

一个基于Java的多线程文件下载工具，支持断点续传、任务管理和进度监控。

## 功能特点

- **多线程下载**：支持同时启动多个线程下载文件，提高下载速度
- **断点续传**：支持暂停和恢复下载，即使程序重启也能继续下载
- **任务管理**：支持创建、启动、暂停和删除下载任务
- **进度监控**：实时显示下载进度、速度和剩余时间
- **图形界面**：友好的Swing GUI界面，易于使用
- **临时文件管理**：下载完成后自动清理临时文件和目录

## 技术栈

- **Java 8+**：开发语言
- **Swing**：图形用户界面
- **Maven**：项目构建和依赖管理
- **多线程编程**：使用ExecutorService和线程池
- **RandomAccessFile**：实现文件的随机访问和断点续传

## 项目结构

```
downloadTask/
├── .gitignore
├── download-module/          # 主模块
│   ├── compile.bat          # Windows编译脚本
│   ├── pom.xml              # Maven配置文件
│   └── src/
│       ├── main/            # 源代码目录
│       └── test/            # 测试代码目录
└── pom.xml                  # 父级Maven配置文件
```

## 使用方法

### 1. 构建项目

```bash
# 使用Maven构建项目
mvn clean package
```

### 2. 运行程序

```bash
# 运行可执行JAR文件
java -jar download-module/target/download-module-1.0-SNAPSHOT-executable-jar-with-dependencies.jar
```

### 3. 创建下载任务

1. 点击"创建下载任务"按钮
2. 输入下载URL和保存路径
3. 设置线程数（默认4线程）
4. 点击"确定"开始下载

### 4. 管理下载任务

- **开始任务**：选择任务后点击"开始"按钮
- **暂停任务**：选择任务后点击"暂停"按钮
- **删除任务**：选择任务后点击"删除"按钮，可选择是否同时删除本地文件

## 核心功能说明

### 断点续传机制

- 下载时会创建临时目录（`.temp-{taskId}`）存储下载状态
- 使用索引文件（`index.txt`）记录已完成的下载范围
- 暂停或重启时，会从索引文件恢复下载进度
- 下载完成后自动删除临时目录和文件

### 多线程下载

- 默认使用4个线程下载
- 可根据网络情况调整线程数
- 每个线程负责下载文件的不同部分

## 配置说明

程序会自动保存配置信息，包括：
- 默认保存路径
- 默认线程数
- 下载历史记录

## 系统要求

- Windows/Linux/macOS
- Java 8或更高版本

## 开发说明

### 主要类结构

- `MultiThreadDownloader`：核心下载引擎，实现多线程下载逻辑
- `DownloadGUI`：主界面类，处理用户交互
- `TaskManager`：任务管理器，负责任务的增删改查
- `ConfigManager`：配置管理器，负责配置的加载和保存
- `DownloadTaskInfo`：下载任务信息类，存储任务的基本信息

### 编译说明

- 使用`mvn clean package`编译项目
- 编译后的可执行JAR文件位于`target`目录下

## 许可证

本项目采用MIT许可证，可自由使用和修改。
